@using Microsoft.AspNetCore.Identity;
@using BlogBook.Model;
@inject SignInManager<AppIdentityUser> SignInManager
@model IEnumerable<BlogBook.Model.Post>

@{
	ViewData["Title"] = "Index";
	var isSigned = SignInManager.IsSignedIn(User);
}

@if (isSigned)
{
	@await Html.PartialAsync("_PostNewPartial")
}
@foreach (var item in Model)
{
	<div id="post_@item.Id">
		@await Html.PartialAsync("_PostPartial", item)
	</div>
}
